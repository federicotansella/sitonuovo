<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>allweeverwantedwaseverything</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: black;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    video {
      width: 80%;
      height: auto;
      background: black;
    }
  </style>
</head>
<body>
  <video id="myVideo" autoplay muted playsinline></video>

  <script>
    // ðŸ”¹ 4 file di test piccoli da Internet Archive (1-2 minuti ciascuno)
    const videoUrls = [
      "https://archive.org/download/Popeye_forPresident/Popeye_forPresident_512kb.mp4",
      "https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",
      "https://archive.org/download/SintelTrailer/sintel_trailer-512kb.mp4",
      "https://archive.org/download/TearsOfSteelTrailer_512kb/TearsOfSteelTrailer_512kb.mp4"
    ];

    const secondsPerVideo = 60; // per test, ogni video dura ~1 minuto

    // Ora locale dellâ€™utente in secondi dallâ€™inizio della giornata
    const now = new Date();
    const secondsToday = now.getHours() * 3600 + now.getMinutes() * 60 + now.getSeconds();

    // Quale video selezionare
    const videoIndex = Math.floor(secondsToday / secondsPerVideo) % videoUrls.length;
    const startSeconds = secondsToday % secondsPerVideo;

    const video = document.getElementById("myVideo");
    video.src = videoUrls[videoIndex];

    // Aspetta che il video sia pronto prima di saltare
    function trySeek() {
      if (video.readyState > 0) {
        if (startSeconds < video.duration) {
          video.currentTime = startSeconds;
        }
        video.play().catch(err => console.log("Autoplay bloccato:", err));
      } else {
        setTimeout(trySeek, 200); // riprova ogni 0,2 sec
      }
    }

    video.addEventListener("loadedmetadata", trySeek);
  </script>
</body>
</html>
